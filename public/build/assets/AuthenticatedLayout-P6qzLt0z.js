import{_ as $}from"./logo-C5fiQHXv.js";import{c as h,o as l,a as e,Q as z,d as A,w as v,g as S,e as p,h as n,t as f,T as B,H as L,r as _,y as x,V as b,n as m,q as N,F as j,j as V,l as w,U as T,B as k,p as D}from"./app-OFDSvyLL.js";import{i as u,_ as P,u as K}from"./_plugin-vue_export-helper-BMGuriYK.js";const I=t=>u(t,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2 5a2 2 0 0 1 2-2h6v18H4a2 2 0 0 1-2-2zM14 3h6a2 2 0 0 1 2 2v5h-8zM14 14h8v5a2 2 0 0 1-2 2h-6z"/></svg>'),q=t=>u(t,'<svg width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/><path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/></svg>'),F=t=>u(t,'<svg width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16"><path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/><path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"/></svg>'),H=t=>u(t,'<svg width="16" height="16" fill="currentColor" class="bi bi-map" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.5.5 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103M10 1.91l-4-.8v12.98l4 .8zm1 12.98 4-.8V1.11l-4 .8zm-6-.8V1.11l-4 .8v12.98z"/></svg>'),C=t=>u(t,'<svg width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16"><path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/><path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/></svg>'),O=t=>u(t,'<svg width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/></svg>'),R=t=>u(t,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2 20h2m0 0h5m-5 0V7.2c0-1.12 0-1.68.218-2.108.192-.377.497-.682.874-.874C5.52 4 6.08 4 7.2 4h1.6c1.12 0 1.68 0 2.107.218.377.192.684.497.875.874.218.427.218.987.218 2.105V10M9 20h11M9 20v-5.632c0-.525 0-.788.063-1.033q.085-.328.272-.61c.14-.21.336-.387.726-.737l2.302-2.068c.755-.678 1.133-1.017 1.56-1.146a2 2 0 0 1 1.154 0c.428.129.806.468 1.562 1.147l2.3 2.067c.39.35.585.527.726.737.124.187.216.393.271.61.064.245.064.508.064 1.033V20m0 0h2"/></svg>');var E=(t,o)=>{const a=t.__vccOpts||t;for(const[c,s]of o)a[c]=s;return a},y={appendKeyframes:(t,o)=>{if(!window?.document)return;const a=document.createElement("style");a.setAttribute("id",t),a.innerHTML=`@keyframes ${t} {${o}}`,document.body.appendChild(a)},removeKeyframes:t=>{if(!window?.document)return;const o=document.getElementById(t);o&&o.parentNode?.removeChild(o)}};const U={name:"PixelSpinner",props:{animationDuration:{type:Number,default:1500},size:{type:Number,default:70},color:{type:String,default:"#fff"}},data(){return{animationName:`pixel-spinner-animation-${Date.now()}`}},computed:{pixelSize(){return this.size/7},spinnerStyle(){return{width:`${this.size}px`,height:`${this.size}px`}},spinnerInnerStyle(){return{animationDuration:`${this.animationDuration}ms`,animationName:this.animationName,width:`${this.pixelSize}px`,height:`${this.pixelSize}px`,backgroundColor:this.color,color:this.color,boxShadow:`
          ${this.pixelSize*1.5}px ${this.pixelSize*1.5}px 0 0,
          ${this.pixelSize*-1.5}px ${this.pixelSize*-1.5}px 0 0,
          ${this.pixelSize*1.5}px ${this.pixelSize*-1.5}px 0 0,
          ${this.pixelSize*-1.5}px ${this.pixelSize*1.5}px 0 0,
          0 ${this.pixelSize*1.5}px 0 0,
          ${this.pixelSize*1.5}px 0 0 0,
          ${this.pixelSize*-1.5}px 0 0 0,
          0 ${this.pixelSize*-1.5}px 0 0
        `}}},watch:{size:{handler:"updateAnimation",immediate:!0}},mounted(){this.updateAnimation()},beforeUnmount(){y.removeKeyframes(this.animationName)},methods:{updateAnimation(){y.removeKeyframes(this.animationName),y.appendKeyframes(this.animationName,this.generateKeyframes())},generateKeyframes(){return`
        50% {
          box-shadow:  ${this.pixelSize*2}px ${this.pixelSize*2}px 0 0,
                       ${this.pixelSize*-2}px ${this.pixelSize*-2}px 0 0,
                       ${this.pixelSize*2}px ${this.pixelSize*-2}px 0 0,
                       ${this.pixelSize*-2}px ${this.pixelSize*2}px 0 0,
                       0 ${this.pixelSize}px 0 0,
                       ${this.pixelSize}px 0 0 0,
                       ${this.pixelSize*-1}px 0 0 0,
                       0 ${this.pixelSize*-1}px 0 0;
        }
        75% {
          box-shadow:  ${this.pixelSize*2}px ${this.pixelSize*2}px 0 0,
                       ${this.pixelSize*-2}px ${this.pixelSize*-2}px 0 0,
                       ${this.pixelSize*2}px ${this.pixelSize*-2}px 0 0,
                       ${this.pixelSize*-2}px ${this.pixelSize*2}px 0 0,
                       0 ${this.pixelSize}px 0 0,
                       ${this.pixelSize}px 0 0 0,
                       ${this.pixelSize*-1}px 0 0 0,
                       0 ${this.pixelSize*-1}px 0 0;
        }
        100% {
          transform: rotate(360deg);
        }`}}};function Q(t,o,a,c,s,g){return l(),h("div",{class:"pixel-spinner",style:z(g.spinnerStyle)},[e("div",{class:"pixel-spinner-inner",style:z(g.spinnerInnerStyle)},null,4)],4)}var G=E(U,[["render",Q]]);const J={key:0,class:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/50"},W={class:"flex flex-col items-center space-y-4 bg-gray-900/60 px-8 py-6 rounded-lg"},X={class:"text-green-50 text-base"},Y={__name:"Loader",props:{isLoading:{type:Boolean,required:!0},message:{type:String,default:"Processing..."}},setup(t){return(o,a)=>(l(),A(B,{"enter-active-class":"transition-opacity duration-200","leave-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","leave-to-class":"opacity-0"},{default:v(()=>[t.isLoading?(l(),h("div",J,[e("div",W,[p(n(G),{"animation-duration":2e3,color:"#10b981",size:70}),e("p",X,f(t.message),1)])])):S("",!0)]),_:1}))}},Z={class:"min-h-screen bg-slate-50"},ee={class:"lg:hidden fixed top-0 left-0 right-0 z-30 bg-green-900 border-b border-green-800"},te={class:"flex items-center justify-between px-4 py-3"},ie={class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se={class:"flex-1 px-4 py-6 space-y-2 overflow-y-auto mt-16 lg:mt-0 bg-green-900 scrollbar-thin scrollbar-thumb-green-700 scrollbar-track-green-800 hover:scrollbar-thumb-green-600"},ae={class:"border-t border-green-800 bg-green-900 flex-shrink-0"},ne={class:"px-4 py-4"},oe={class:"flex items-center gap-3 mb-3 px-2 py-2 rounded-lg bg-green-800"},re={class:"flex-1 min-w-0"},le={class:"text-sm font-medium text-white truncate"},de={class:"text-xs text-green-200 truncate"},pe={class:"space-y-1"},ce={class:"lg:pl-64 pt-16 lg:pt-0"},he={key:0,class:"bg-white shadow"},ue={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},xe={__name:"AuthenticatedLayout",setup(t){const o=K(),{isLoading:a}=L(o),c=_("Processing logout..."),s=_(!1),g=async()=>{try{a.value=!0,c.value="Processing logout...";const r=await D.post(x("logout"));c.value=r.data.message||"Logged out successfully. Redirecting to login page...",setTimeout(()=>{window.location.href=x("login")},2e3)}catch(r){console.error("Logout error:",r),c.value="An error occurred during logout. Please try again.",setTimeout(()=>{a.value=!1},2e3)}},M=[{name:"Overview",route:"reports.dashboard",icon:I},{name:"Facilities",route:"facility.get",icon:R},{name:"Feedbacks",route:"feedback.index",icon:F},{name:"Campus Map",route:"map.get",icon:H},{name:"Search Logs",route:"logs.index",icon:O}];return(r,i)=>(l(),h("div",null,[e("div",Z,[e("div",ee,[e("div",te,[p(n(b),{href:n(x)("dashboard"),class:"flex items-center gap-2"},{default:v(()=>[...i[4]||(i[4]=[e("div",{class:"h-8 w-8 bg-white rounded-full flex items-center justify-center"},[e("img",{src:$,alt:"ASSCAT Logo",class:"h-8 w-8 object-contain"})],-1),e("div",{class:"flex flex-col"},[e("span",{class:"text-sm font-bold text-white"},"ASSCAT"),e("span",{class:"text-[10px] font-medium text-green-200"},"Campus Navigator")],-1)])]),_:1},8,["href"]),e("button",{onClick:i[0]||(i[0]=d=>s.value=!s.value),class:"p-2 text-white hover:bg-green-800 rounded-md"},[(l(),h("svg",ie,[e("path",{class:m({hidden:s.value,"inline-flex":!s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:m({hidden:!s.value,"inline-flex":s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])]),e("aside",{class:m(["fixed top-0 left-0 z-40 h-screen w-64 bg-green-900 border-r border-green-800 transition-transform flex flex-col","lg:translate-x-0",s.value?"translate-x-0":"-translate-x-full"])},[i[7]||(i[7]=N('<div class="hidden lg:flex items-center gap-2 px-6 py-5 border-b border-green-800 bg-green-900 flex-shrink-0" data-v-a04eee34><div class="h-20 w-20 bg-white rounded-full flex items-center justify-center p-2" data-v-a04eee34><img src="'+$+'" alt="ASSCAT Logo" class="h-full w-full object-contain" data-v-a04eee34></div><div class="flex flex-col" data-v-a04eee34><span class="text-xl font-bold text-white" data-v-a04eee34>ASSCAT</span><span class="text-xs font-medium text-green-200" data-v-a04eee34>Campus Navigator</span></div></div>',1)),e("nav",se,[(l(),h(j,null,V(M,d=>p(n(b),{key:d.route,href:n(x)(d.route),class:m(["flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",n(x)().current(d.route)?"bg-white text-green-900":"text-white hover:bg-green-800 hover:text-white"]),onClick:i[1]||(i[1]=ge=>s.value=!1)},{default:v(()=>[(l(),A(T(d.icon),{class:"h-5 w-5"})),w(" "+f(d.name),1)]),_:2},1032,["href","class"])),64))]),e("div",ae,[e("div",ne,[e("div",oe,[p(n(C),{class:"h-8 w-8 text-white"}),e("div",re,[e("p",le,f(r.$page.props.auth.user.name),1),e("p",de,f(r.$page.props.auth.user.email),1)])]),e("div",pe,[p(n(b),{href:n(x)("profile.index"),class:"flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-green-800 rounded-lg transition-all duration-200",onClick:i[2]||(i[2]=d=>s.value=!1)},{default:v(()=>[p(n(C),{class:"h-4 w-4"}),i[5]||(i[5]=w(" Profile ",-1))]),_:1},8,["href"]),e("button",{onClick:g,class:"w-full flex items-center gap-2 px-3 py-2 text-sm text-white hover:bg-green-800 rounded-lg transition-all duration-200"},[p(n(q),{class:"h-4 w-4"}),i[6]||(i[6]=w(" Log Out ",-1))])])])])],2),s.value?(l(),h("div",{key:0,onClick:i[3]||(i[3]=d=>s.value=!1),class:"fixed inset-0 z-30 bg-gray-900 bg-opacity-50 lg:hidden"})):S("",!0),e("div",ce,[r.$slots.header?(l(),h("header",he,[e("div",ue,[k(r.$slots,"header",{},void 0,!0)])])):S("",!0),e("main",null,[k(r.$slots,"default",{},void 0,!0)])])]),p(Y,{"is-loading":n(a),message:c.value},null,8,["is-loading","message"])]))}},be=P(xe,[["__scopeId","data-v-a04eee34"]]);export{be as A};
